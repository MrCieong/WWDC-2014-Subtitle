1
00:00:12,009 --> 00:00:15,052
morning everybody thanks for coming
welcome to

2
00:00:16,033 --> 00:00:16,128
creating X

3
00:00:17,028 --> 00:00:20,106
shins for I O S and 80 S 10 part 2 I'm
damian

4
00:00:21,006 --> 00:00:26,073
I'm from core OS and we apparently have
a user facing feature this year

5
00:00:26,073 --> 00:00:33,073
so glad to see everybody is excited
about extensions let's dive right in

6
00:00:36,096 --> 00:00:41,195
so before we talk about one extension as

7
00:00:42,059 --> 00:00:45,670
let's talk a little bit about what in
out years and why

8
00:00:45,067 --> 00:00:48,103
extensions are different so for now

9
00:00:49,003 --> 00:00:52,562
it's still in iowa say even with
extensions

10
00:00:52,589 --> 00:00:56,614
is the most important experience for the
user on I less the app

11
00:00:56,839 --> 00:01:00,050
owns the entire screen on last 10 the

12
00:01:00,005 --> 00:01:03,794
cursor focus goes the front most up this
is still

13
00:01:03,839 --> 00:01:08,110
the number one priority for users and on
iowa's

14
00:01:08,011 --> 00:01:11,043
aP's are completely managed by the user
via the App Store

15
00:01:11,043 --> 00:01:14,087
and on the west and the user can drag
into the trash move them around

16
00:01:14,087 --> 00:01:19,102
outs are entirely managed by the user so
about extensions

17
00:01:20,002 --> 00:01:24,068
so extensions are important to the user

18
00:01:24,068 --> 00:01:27,077
but they're not more important than the
current ap

19
00:01:27,077 --> 00:01:31,149
they are there to augment the app's
experience and rather than directly

20
00:01:32,049 --> 00:01:33,108
managing them

21
00:01:33,549 --> 00:01:38,780
extensions common go with maps so the
user isn't going to be purchasing

22
00:01:38,078 --> 00:01:41,139
or installing individual extensions
they're going to be

23
00:01:42,039 --> 00:01:46,046
getting those extensions with the app's
that they download from the store

24
00:01:46,046 --> 00:01:51,063
so extensions are built separately

25
00:01:51,063 --> 00:01:56,482
they are separate target in Xcode so
what we have this new section

26
00:01:57,049 --> 00:02:01,120
in Xcode for app extension template
targets so when you want to create an

27
00:02:01,759 --> 00:02:01,827
extension

28
00:02:02,439 --> 00:02:05,710
you're getting a new piece of code in
your app

29
00:02:05,071 --> 00:02:08,620
that is actually a separate bond all and
admits

30
00:02:09,259 --> 00:02:14,740
a separate execute a ble and with that
execute a ball

31
00:02:14,074 --> 00:02:17,133
comes UConn a distinct set of
entitlements and we have

32
00:02:18,033 --> 00:02:21,035
a separate excusable with its distinct
that entitlement Saunders

33
00:02:21,053 --> 00:02:25,056
that allows the operating system to know
these two things

34
00:02:25,083 --> 00:02:28,118
the app in the extension are different
entities

35
00:02:29,018 --> 00:02:32,022
be and with that

36
00:02:32,022 --> 00:02:36,048
weird get your getting a different
process so an extension

37
00:02:36,048 --> 00:02:39,062
is running and isolated address space
from your route

38
00:02:39,062 --> 00:02:44,041
and it executes completely independently
so this means that

39
00:02:44,599 --> 00:02:47,930
the cistern even if your app is not
running

40
00:02:47,093 --> 00:02:51,182
can still fire up your extension even if
you're up is suspended that doesn't

41
00:02:52,019 --> 00:02:52,540
affect

42
00:02:52,054 --> 00:02:55,069
and you have your extensions running for
the user

43
00:02:55,069 --> 00:02:59,073
and because of this the system can
optimize each experience

44
00:02:59,073 --> 00:03:02,073
separately so we can schedule them

45
00:03:02,073 --> 00:03:05,139
and even if the app goes away your
extension

46
00:03:06,039 --> 00:03:09,072
still sticks around so here's an example

47
00:03:09,072 --> 00:03:12,154
love an extension and what the user
might do you

48
00:03:13,054 --> 00:03:16,140
to invoke your extension and its you why
here we just have

49
00:03:17,004 --> 00:03:20,623
a little a networks thing so it's and

50
00:03:21,019 --> 00:03:25,030
new social networking app and its
bundling a social sharing extension

51
00:03:25,003 --> 00:03:28,079
so we see it in the in the far right
there

52
00:03:28,079 --> 00:03:31,131
with the purple icon and I go to the
site

53
00:03:32,031 --> 00:03:36,240
and I want to share this with my friends
on my new social network

54
00:03:36,519 --> 00:03:40,750
so the user we'll see and icon
representing my app

55
00:03:40,075 --> 00:03:44,079
but what that means is that I'm going to
be using that the extension for social

56
00:03:45,015 --> 00:03:46,098
sharing banded by that up

57
00:03:46,098 --> 00:03:49,117
so in previous releases a iowa's

58
00:03:50,017 --> 00:03:55,059
we've been we've been able to do this
but the Facebook and Twitter experiences

59
00:03:55,059 --> 00:03:59,148
et cetera have all been provided by
Apple now we're letting

60
00:04:00,048 --> 00:04:04,064
anyone who wants provide a social
sharing session not only provided but to

61
00:04:04,064 --> 00:04:05,553
find their own experience

62
00:04:06,129 --> 00:04:11,173
so in this case when user elects to
share

63
00:04:11,569 --> 00:04:15,500
they're getting a window that is
designed by the

64
00:04:15,005 --> 00:04:18,053
developer I love this social networking
app with

65
00:04:18,098 --> 00:04:21,121
whatever experience you whatever
experience

66
00:04:22,021 --> 00:04:26,069
that app developer wants to provide so
that's a high-level

67
00:04:26,069 --> 00:04:30,148
love how a extensions are architected on
our system

68
00:04:31,048 --> 00:04:34,085
let's talk a little bit about how we
actually

69
00:04:34,085 --> 00:04:37,108
extend the experience %uh viewer app and
projected

70
00:04:38,008 --> 00:04:41,107
into other parts of the system so as we
saw

71
00:04:42,007 --> 00:04:45,091
yesterday in part 1 extensions are a
very focused

72
00:04:45,091 --> 00:04:49,100
experience and the operating system
takes care of seamlessly merging the

73
00:04:50,081 --> 00:04:52,083
experience that you provide

74
00:04:52,083 --> 00:04:56,127
in your extension with the current ap or
just whatever the current

75
00:04:57,027 --> 00:05:00,236
I system you why is

76
00:05:00,479 --> 00:05:03,500
so you guys are gonna provide code

77
00:05:03,005 --> 00:05:06,021
to make the experience your own and
thats

78
00:05:06,066 --> 00:05:09,153
going almost certainly mean that you're
gonna want to reuse at least some love

79
00:05:10,053 --> 00:05:14,059
the code for your app

80
00:05:14,059 --> 00:05:17,093
so we hope you've been using the
model-view-controller paradigm

81
00:05:17,093 --> 00:05:21,082
a features like extensions are exactly
why we

82
00:05:21,919 --> 00:05:25,940
so desperately encourage you guys to
adopt this design pattern year after

83
00:05:25,094 --> 00:05:25,943
year

84
00:05:26,789 --> 00:05:30,880
because chances are with your extension
you're gonna wanna share

85
00:05:30,088 --> 00:05:36,090
least the data model and probably some
%uh view controller layers to

86
00:05:37,008 --> 00:05:40,013
you probably don't wanna share the view
if you're out because your app is

87
00:05:40,058 --> 00:05:41,060
designed around

88
00:05:41,006 --> 00:05:44,029
taking up the whole screen where is your
extension will not

89
00:05:44,083 --> 00:05:47,088
but that's only one-third of your code
you don't want to have to rewrite

90
00:05:48,033 --> 00:05:53,122
the entire two-thirds of it you wanna be
able to share code between the two

91
00:05:54,022 --> 00:05:57,341
and if only computer science

92
00:05:57,539 --> 00:06:02,460
head come up with a way to allow the
same code do exist

93
00:06:02,046 --> 00:06:07,565
into processes without having to
duplicate those code pages

94
00:06:07,979 --> 00:06:11,110
I think we might have a solution to this

95
00:06:11,011 --> 00:06:14,087
and I think that solutions called
frameworks so

96
00:06:14,087 --> 00:06:17,316
on iowa's im Iowa State

97
00:06:18,099 --> 00:06:25,099
were now allowing you to ship frameworks
within your app on

98
00:06:28,539 --> 00:06:32,530
don't get too excited so this is

99
00:06:32,053 --> 00:06:36,592
obviously knew I owe us but we you've
been able to do this on OS 10 since the

100
00:06:37,069 --> 00:06:37,163
dawn of time

101
00:06:38,009 --> 00:06:41,093
on but it's a brand new capability the

102
00:06:41,849 --> 00:06:44,896
tie less and what we're doing with that
is work also

103
00:06:45,319 --> 00:06:48,388
encrypting the frameworks that you ship
in your app on bull

104
00:06:49,009 --> 00:06:52,690
with the same I have encryption that
your caps

105
00:06:52,069 --> 00:06:57,138
are are gifted with to give you that
same level of protection against piracy

106
00:06:58,038 --> 00:07:01,447
and up well piracy

107
00:07:01,789 --> 00:07:05,430
heard on so

108
00:07:05,043 --> 00:07:08,462
its critical to note that these
frameworks are not

109
00:07:08,849 --> 00:07:12,650
general share code sharing mechanism so
you're not going to have

110
00:07:12,065 --> 00:07:15,136
many ups on the system referencing the
same popular framework

111
00:07:16,036 --> 00:07:19,047
these frameworks are here to see
facilitate

112
00:07:19,047 --> 00:07:22,216
sharing between ap and all its
extensions

113
00:07:22,639 --> 00:07:25,726
so the code that that frame live code
that former contains

114
00:07:26,509 --> 00:07:30,780
can be used by the app or any the
extensions upon dole's

115
00:07:30,078 --> 00:07:35,807
but nothing else on the system so when
you use

116
00:07:36,509 --> 00:07:40,553
of when you bundle a framework with your
app there are some implications for your

117
00:07:40,949 --> 00:07:42,240
minimum deployment target

118
00:07:42,024 --> 00:07:45,043
if you're ap links the framework

119
00:07:45,259 --> 00:07:48,620
we're going to change its minimum
employment targets Iowa State because as

120
00:07:48,062 --> 00:07:49,101
I said before

121
00:07:49,659 --> 00:07:52,440
were in cryptic these frameworks in
previous versions of the operating

122
00:07:52,044 --> 00:07:53,013
system

123
00:07:53,409 --> 00:07:56,440
don't know about how did deak rip them
when you use them

124
00:07:56,044 --> 00:07:59,061
however if you're just chipping your app

125
00:07:59,061 --> 00:08:02,860
and then there's a few extensions you
have the all link in a framework

126
00:08:03,409 --> 00:08:06,690
your aP's minimum deployment target
doesn't change at all

127
00:08:06,069 --> 00:08:10,155
your extension functionality obviously
won't be available to previous versions

128
00:08:11,055 --> 00:08:15,674
%uh I O S but the Apple still be able to
run without any problems

129
00:08:16,169 --> 00:08:19,430
so that's a very brief

130
00:08:19,043 --> 00:08:22,050
overview love embedded remarks on iowa's

131
00:08:23,013 --> 00:08:26,015
to learn more I encourage you to go to

132
00:08:26,033 --> 00:08:29,462
the session tomorrow at 3:15 in person
do.

133
00:08:29,759 --> 00:08:33,110
building modern frameworks be where

134
00:08:33,011 --> 00:08:36,570
will cover API usage how did

135
00:08:36,669 --> 00:08:39,672
write a good framework how to bundle it
all that good stuff

136
00:08:39,699 --> 00:08:44,940
but for now you got frameworks and it
seems like you guys are excited about

137
00:08:44,094 --> 00:08:47,099
so

138
00:08:47,099 --> 00:08:51,104
another cup topic for code sharing is
API availability

139
00:08:52,004 --> 00:08:54,010
if you're writing one of these
frameworks sorry for bowling or these

140
00:08:54,064 --> 00:08:54,127
frameworks

141
00:08:55,027 --> 00:08:59,076
what code are you going to be are using
between your app

142
00:08:59,076 --> 00:09:03,081
and your extension so

143
00:09:04,026 --> 00:09:08,087
the vast majority of our API is going to
be available for extensions to use

144
00:09:08,087 --> 00:09:11,118
but there are going to be some
exceptions and these exceptions are

145
00:09:12,018 --> 00:09:12,087
going to be marked

146
00:09:12,087 --> 00:09:15,676
explicitly with a new kinda
unavailability macro

147
00:09:16,459 --> 00:09:19,640
and here's an example what that looks
like

148
00:09:19,064 --> 00:09:22,065
so UI application

149
00:09:22,074 --> 00:09:26,080
very with your application the shared
application method has been explicitly

150
00:09:26,008 --> 00:09:27,055
marked as unavailable

151
00:09:28,027 --> 00:09:31,081
I and you like it folks have helpfully
provided

152
00:09:31,081 --> 00:09:34,084
and error message that says use a view
controller based solution where

153
00:09:35,011 --> 00:09:36,740
appropriate I'm Inc or less

154
00:09:36,839 --> 00:09:42,260
no idea what that means but I'm sure you
guys have an idea now if you're

155
00:09:42,026 --> 00:09:46,035
dropping down to Super League API that
has underscores

156
00:09:46,035 --> 00:09:49,088
there's going to be a corresponding X
availability macro there that is

157
00:09:49,088 --> 00:09:50,787
evaluated the same way

158
00:09:51,579 --> 00:09:55,680
by the tools and will generate the same
errors at build time

159
00:09:55,068 --> 00:09:58,167
so that's are unavailability

160
00:09:59,067 --> 00:10:02,154
like a certain vast majority of cases
you probably won't need to worry about

161
00:10:03,054 --> 00:10:03,105
it

162
00:10:04,005 --> 00:10:07,067
but if you if you do trip across an API
use

163
00:10:07,067 --> 00:10:10,112
in your extension that is not allowed
you'll know as soon as possible

164
00:10:11,012 --> 00:10:16,081
at build time before you can even run
the extension so I'll tell you share

165
00:10:16,081 --> 00:10:17,081
code

166
00:10:17,081 --> 00:10:20,152
with your extension and your app but at
runtime

167
00:10:21,052 --> 00:10:24,057
you're gonna wanna create a consistent
experience to

168
00:10:25,002 --> 00:10:28,131
and a consistent experience

169
00:10:28,149 --> 00:10:32,192
often means sharing the same set
resources

170
00:10:32,579 --> 00:10:35,617
and making sure that changes the user
has made to their data

171
00:10:35,959 --> 00:10:39,410
in your extension are reflected in the
app the next time they see it

172
00:10:39,041 --> 00:10:46,041
or vice versa so we have a few data
sharing solutions for you for extensions

173
00:10:48,063 --> 00:10:51,882
so the first thing I understand is that
an extension

174
00:10:52,449 --> 00:10:55,600
has a separate container from its ap by
default

175
00:10:55,006 --> 00:10:59,024
on it's just like how to APs are
segregated from each other they don't

176
00:10:59,078 --> 00:11:01,105
have access to each other's data

177
00:11:02,005 --> 00:11:06,012
but for any extension you bundle you can
up to share specific bits of data

178
00:11:06,075 --> 00:11:09,081
that will help you provoke provide a
consistent experience that

179
00:11:09,081 --> 00:11:13,090
all of our users expect

180
00:11:13,009 --> 00:11:16,568
and you can do this with what's called a
shared container

181
00:11:17,459 --> 00:11:20,920
so this is based on a new a

182
00:11:20,092 --> 00:11:23,138
a new concept called in ap group and

183
00:11:24,038 --> 00:11:28,056
this provides a shared storage area for
kind of just general

184
00:11:28,056 --> 00:11:32,101
datum sharing between your app in your
extension so if you have some custom

185
00:11:33,001 --> 00:11:37,030
data models are custom databases that
you're wrapping extension need to use

186
00:11:37,003 --> 00:11:41,029
this is a good place to put those files
and access them

187
00:11:41,056 --> 00:11:44,140
however you have to remember that
there's nothing stopping

188
00:11:45,004 --> 00:11:48,092
I your extension and your ap from
running at the same time

189
00:11:49,028 --> 00:11:52,697
you're out maybe in a long-running
background task it may not have been

190
00:11:52,949 --> 00:11:54,250
suspended yet

191
00:11:54,025 --> 00:11:58,104
and it might be you writing some a some
data to that shared container

192
00:11:59,004 --> 00:12:02,011
and then user might bring up your
extension so what this means is that you

193
00:12:02,011 --> 00:12:04,030
have to make sure to safely coordinate

194
00:12:04,003 --> 00:12:07,025
all the reads and writes those files you
have to make sure that you only write to

195
00:12:07,052 --> 00:12:08,063
the file

196
00:12:08,063 --> 00:12:11,071
when there are no readers contending for
it and that you're only reading when

197
00:12:12,043 --> 00:12:18,055
the files in a consistent state

198
00:12:18,055 --> 00:12:21,062
otherwise you're going to blow up your
file sports is gonna get corrupted

199
00:12:22,025 --> 00:12:26,073
so we introduce some sort of
synchronization scheme here

200
00:12:26,073 --> 00:12:30,118
so that if the extension rights hold of
the APN if the uprights hold of the

201
00:12:31,018 --> 00:12:31,797
extension

202
00:12:31,959 --> 00:12:35,360
and they're all both dealing with a
consistent view of the universe

203
00:12:35,036 --> 00:12:39,038
in here a few those technologies

204
00:12:39,038 --> 00:12:41,126
the first one is an ass file
coordination which kinda provides a

205
00:12:42,026 --> 00:12:42,089
general

206
00:12:42,089 --> 00:12:45,091
inner process synchronization strategy

207
00:12:45,091 --> 00:12:48,120
four-year extension and

208
00:12:48,939 --> 00:12:52,990
free extension and your app on if you're
using Core Data

209
00:12:52,099 --> 00:12:55,177
you could get a lot of this for free
there'd certain core data dot

210
00:12:56,077 --> 00:12:59,112
backing stores that are documented as
being called as being usable for

211
00:13:00,012 --> 00:13:02,030
multiple processes at the same time

212
00:13:02,003 --> 00:13:05,022
and sequel light also make some of these
guarantees

213
00:13:05,049 --> 00:13:08,101
so if you're using on those who
technologies chances are you're already

214
00:13:09,001 --> 00:13:09,560
set

215
00:13:09,569 --> 00:13:12,800
but if you have something more custom
you're going to want to use in a small

216
00:13:12,008 --> 00:13:14,067
coordination

217
00:13:15,039 --> 00:13:18,047
but if you're talking about I more
structured data that

218
00:13:18,047 --> 00:13:23,068
is save ended by Apple's API's like and
its user defaults

219
00:13:23,068 --> 00:13:26,105
you can end up sharing much more easily
so

220
00:13:27,005 --> 00:13:30,087
an app in its extension both have
different defaults domains

221
00:13:30,087 --> 00:13:33,104
but you can set up a share domain with
peace

222
00:13:34,004 --> 00:13:37,493
in it with sweet name API and you create
the sweet

223
00:13:37,529 --> 00:13:41,240
and the API manages access to it for
your app

224
00:13:41,024 --> 00:13:44,065
and your extension so you don't have to
worry about up

225
00:13:44,065 --> 00:13:47,130
making sure that you're not writing to
that backing store when someone else is

226
00:13:48,003 --> 00:13:49,027
trying to read from it

227
00:13:49,054 --> 00:13:52,150
API coordinates all about for you and
this is a really easy way

228
00:13:53,005 --> 00:13:56,079
for say the user to modify some setting
in the app

229
00:13:57,024 --> 00:14:00,061
which then the extension can pick up on
its next

230
00:14:00,061 --> 00:14:03,143
under sex invocation

231
00:14:04,043 --> 00:14:07,101
there's a similar story for key chains
so the shared key chain

232
00:14:08,001 --> 00:14:11,063
is based on an app group and the app
group

233
00:14:11,063 --> 00:14:14,118
is up can encompass

234
00:14:15,018 --> 00:14:18,867
a few aP's as well as your extensions on

235
00:14:19,029 --> 00:14:23,047
so by default by they said the extension
the app have a different key chain

236
00:14:23,209 --> 00:14:26,990
but you can set up a shared key chain
with an Access Group

237
00:14:26,099 --> 00:14:30,143
a there's up there's an issue right now
in the first beta

238
00:14:31,043 --> 00:14:34,067
where this is actually team id-based so
if you're familiar with that were you

239
00:14:34,067 --> 00:14:36,143
prefix urban blight on a fire with the
team ID

240
00:14:37,043 --> 00:14:40,452
in order to facilitate sharing that's
how you do it in the first scene

241
00:14:40,839 --> 00:14:44,390
we're going to fix the supper at group
and by the time we ship

242
00:14:44,039 --> 00:14:47,088
so I'm terms & privacy it's a slightly
different story

243
00:14:47,088 --> 00:14:50,297
when I say privacy i mean the dialogue
comes up

244
00:14:51,089 --> 00:14:54,650
when an app is trying to access certain
sensitive user data like

245
00:14:54,065 --> 00:14:58,234
photos are Contax you'll get a dialogue
saying would you like to allow this out

246
00:14:58,819 --> 00:14:59,896
to have access to this piece of data

247
00:15:00,589 --> 00:15:05,010
and user commuter decline or allow

248
00:15:05,001 --> 00:15:09,079
so when user allows your apt to have
access to a certain piece of data

249
00:15:09,079 --> 00:15:12,140
its actually going to cover the the
entirety of your up on dole

250
00:15:13,004 --> 00:15:16,933
including extensions so that the user
once they've approved your

251
00:15:17,329 --> 00:15:22,040
ap for access your photos they don't
have to then go and approve all your

252
00:15:22,004 --> 00:15:24,077
extensions for access to the same data

253
00:15:24,077 --> 00:15:26,140
now there are going to be some
extensions this purpose are some

254
00:15:27,004 --> 00:15:28,663
exceptions to this rule

255
00:15:29,059 --> 00:15:32,640
but in general the the rule is

256
00:15:32,064 --> 00:15:36,593
that approval covers the entirety love
your app

257
00:15:37,169 --> 00:15:41,470
so let's go over back best practices a
little bit

258
00:15:41,047 --> 00:15:44,061
as we said at the beginning the front
most out the still not the most

259
00:15:44,061 --> 00:15:44,890
important thing

260
00:15:45,439 --> 00:15:48,610
so it's very important that your
exceptions be lean

261
00:15:48,061 --> 00:15:51,660
these things do not have the whole run
up the system like the Upstate like the

262
00:15:52,209 --> 00:15:54,150
aptos the up still there

263
00:15:54,015 --> 00:15:57,020
it's still using lines share system
resources extensions

264
00:15:57,065 --> 00:16:01,994
are very focused very purpose built and
it's important they get in do their job

265
00:16:02,579 --> 00:16:06,400
and get out and be stateless

266
00:16:06,004 --> 00:16:09,077
you might know that we kill ap
successively or suspend them on iowa's

267
00:16:10,013 --> 00:16:13,019
were doubling down on out extensions and
we're going to be more aggressive

268
00:16:13,073 --> 00:16:17,140
and because of this there is no general
multitasking functionality available to

269
00:16:18,004 --> 00:16:18,099
extensions

270
00:16:19,035 --> 00:16:23,062
so no VoIP a no long-running background
tasks like anything

271
00:16:23,062 --> 00:16:28,271
we do support a short ass completion
before we suspend or kill the extension

272
00:16:28,829 --> 00:16:31,860
but this is meant to give you time to
flush

273
00:16:31,086 --> 00:16:34,645
any dirty state to desk so that the user
doesn't lose their data and so that the

274
00:16:35,419 --> 00:16:37,421
app can pick that up

275
00:16:37,439 --> 00:16:42,439
and finally be awesome make these things
seamless

276
00:16:42,439 --> 00:16:45,530
make them useful to our users and

277
00:16:45,053 --> 00:16:49,087
as a user UHV your products I can't wait
to be surprised and delighted by what

278
00:16:49,087 --> 00:16:50,166
you guys turn out

279
00:16:51,066 --> 00:16:58,066
with that I'd like to turn it over to
hockey

280
00:17:00,042 --> 00:17:05,651
computer into them part I'm a key you
know went from poker group

281
00:17:06,029 --> 00:17:10,260
today I'm discussion and exciting new
feature

282
00:17:10,026 --> 00:17:16,305
action extensions 400 s and were stabbed
yesterday

283
00:17:16,539 --> 00:17:20,010
improper Kwame Ian mad got introduced

284
00:17:20,001 --> 00:17:23,064
extensions and two extensions point
along with

285
00:17:23,064 --> 00:17:27,089
key technologies such as mobile
controller and

286
00:17:27,089 --> 00:17:30,135
a crucial walls Damien explain

287
00:17:31,035 --> 00:17:34,121
foundational technologies for extensions
action

288
00:17:35,021 --> 00:17:39,027
isn't extension point that utilizes and
integrates

289
00:17:39,027 --> 00:17:43,072
all these based technologies let's get
started

290
00:17:43,072 --> 00:17:47,073
hope so action

291
00:17:47,082 --> 00:17:50,681
is the spiritual successor to services

292
00:17:51,419 --> 00:17:55,430
%uh interpretation collaboration
technology available sister

293
00:17:55,529 --> 00:18:00,120
first rulings up always tender action

294
00:18:00,012 --> 00:18:04,013
operates with use a selection inside the
host reputation

295
00:18:04,013 --> 00:18:07,412
got is it

296
00:18:07,529 --> 00:18:12,555
extends the system freemen not just a
single produced for serbs

297
00:18:12,789 --> 00:18:16,960
hurry in this conference

298
00:18:16,096 --> 00:18:19,099
you have seen won the action Accenture's

299
00:18:19,099 --> 00:18:22,668
mock operating inside me a pretty Asian

300
00:18:23,559 --> 00:18:27,630
on your sanity impact this

301
00:18:27,063 --> 00:18:31,127
extension is available to image
apartment

302
00:18:32,027 --> 00:18:36,045
throughout the system like that

303
00:18:36,045 --> 00:18:39,045
died into the details just like any

304
00:18:39,045 --> 00:18:42,121
other extensions options are described
by

305
00:18:43,021 --> 00:18:46,044
new populist first

306
00:18:46,044 --> 00:18:49,263
inside and this extension dictionary

307
00:18:49,659 --> 00:18:52,660
its identified by enough extension

308
00:18:52,669 --> 00:18:56,694
point identify you com up online
services

309
00:18:56,919 --> 00:18:59,995
next and if extension

310
00:19:00,679 --> 00:19:03,767
we spoke last spy the man contour

311
00:19:04,559 --> 00:19:07,620
of for you extension just like

312
00:19:07,062 --> 00:19:10,103
gone him mad described yesterday its

313
00:19:11,003 --> 00:19:15,020
typically a top-class Habib Yukon were
new control arm saw

314
00:19:15,002 --> 00:19:18,231
now the

315
00:19:18,429 --> 00:19:21,441
press spoke last is the main control for
you extension

316
00:19:21,549 --> 00:19:24,585
as well past the pine to the extensional

317
00:19:24,909 --> 00:19:28,690
APR of we've

318
00:19:28,069 --> 00:19:31,126
a new view controller property cold
extension

319
00:19:32,026 --> 00:19:36,077
packs you tend to and thus extension
complex up sir

320
00:19:36,077 --> 00:19:41,149
which represents commercial too haha
petition through that

321
00:19:42,049 --> 00:19:45,050
into after look out for some ary

322
00:19:45,059 --> 00:19:49,100
car in this extension items each I think
we present them

323
00:19:50,000 --> 00:19:54,072
a lot colder than you need coming back
for coming from the host application

324
00:19:54,072 --> 00:20:00,149
n

325
00:20:01,049 --> 00:20:04,062
you to touch on third beer

326
00:20:04,062 --> 00:20:08,078
to that specialized in

327
00:20:08,078 --> 00:20:11,080
moved in image warns

328
00:20:11,098 --> 00:20:14,407
so also force the bitter is campaign

329
00:20:15,289 --> 00:20:22,289
fly object called in this I think
provider okay let's back to the populist

330
00:20:22,094 --> 00:20:25,823
inside the substantial happiness the gym

331
00:20:26,669 --> 00:20:30,110
which spines exons

332
00:20:30,011 --> 00:20:34,022
for specific atoms you the player

333
00:20:34,022 --> 00:20:38,060
in this excision were also ordered
essential so small pipe

334
00:20:38,006 --> 00:20:41,028
and some editor or viewer

335
00:20:41,082 --> 00:20:45,121
in this example we are using in this
extension service wall type

336
00:20:46,021 --> 00:20:49,370
editor that means its only presented

337
00:20:49,559 --> 00:20:53,220
to the context where the document easy
editable

338
00:20:53,022 --> 00:20:57,027
X hours

339
00:20:57,027 --> 00:21:01,066
sure extensions you Casper spot at
special rules

340
00:21:01,309 --> 00:21:04,850
with in the stock extension up special
rules

341
00:21:04,085 --> 00:21:08,284
the term and this pretty fortify your
string

342
00:21:09,049 --> 00:21:12,074
or the list up support the beer cups

343
00:21:12,299 --> 00:21:16,450
now

344
00:21:16,045 --> 00:21:19,110
let's to go now let's look at core
samples

345
00:21:20,001 --> 00:21:23,005
Press new tender extension compact
through the

346
00:21:23,005 --> 00:21:26,102
extend some context property next

347
00:21:27,047 --> 00:21:30,976
you can dead excess of item

348
00:21:31,399 --> 00:21:34,477
to item input items property future
returns

349
00:21:35,179 --> 00:21:38,380
the ary are excisional items

350
00:21:38,038 --> 00:21:41,587
finally you can get a touch

351
00:21:41,929 --> 00:21:45,240
theater using about men's Propet and

352
00:21:45,024 --> 00:21:48,583
its companion the in this I can provide
art

353
00:21:48,799 --> 00:21:52,990
once you have in the fight and provider

354
00:21:52,099 --> 00:21:55,288
you don't low bidder from haha petition

355
00:21:56,179 --> 00:22:01,990
it's a lazy and secure using law-abiding
for Clyde

356
00:22:01,099 --> 00:22:04,197
has been fun yeah options accomplishment
number and sparse

357
00:22:05,097 --> 00:22:08,123
spike YouTube part hope your choice

358
00:22:09,023 --> 00:22:13,432
in the States we are using a custom
bitter type my government UTI

359
00:22:13,639 --> 00:22:16,643
and

360
00:22:16,679 --> 00:22:20,340
use BestBuy hot representation

361
00:22:20,034 --> 00:22:23,099
but the road numeracy in this case we
Art Museum and this

362
00:22:23,099 --> 00:22:26,132
fear and it companions but custom data

363
00:22:27,032 --> 00:22:31,261
former has the those not make UTI

364
00:22:31,549 --> 00:22:34,960
once you have the bitter

365
00:22:34,096 --> 00:22:37,184
new concept %uh use that nothing's
according to the beer

366
00:22:38,084 --> 00:22:43,160
coming from the host application

367
00:22:44,006 --> 00:22:47,071
yes with action

368
00:22:48,025 --> 00:22:52,434
unlike she extensions its possible

369
00:22:52,659 --> 00:22:57,000
her extension to return someone for a
beer

370
00:22:57,000 --> 00:23:00,028
you see more up change in I'm watching
up

371
00:23:00,028 --> 00:23:03,287
got image in place returned to the

372
00:23:03,539 --> 00:23:09,840
mil-dot extension can perform the same
old thing

373
00:23:09,084 --> 00:23:13,086
when user click

374
00:23:13,086 --> 00:23:16,855
saddam Barack or similar action

375
00:23:17,629 --> 00:23:20,633
new temp fall

376
00:23:20,669 --> 00:23:25,210
them return under from modified beer box
either

377
00:23:25,021 --> 00:23:28,024
or substitution the process is reber's

378
00:23:28,024 --> 00:23:32,443
hard loading the bidder coming from
possibly tation

379
00:23:32,659 --> 00:23:35,730
first

380
00:23:35,073 --> 00:23:38,158
first UN instantiated in this I can
provide

381
00:23:39,058 --> 00:23:43,119
will be appearing and it up

382
00:23:44,019 --> 00:23:47,228
max you can create in a sec central
Aiken

383
00:23:47,399 --> 00:23:50,970
and Apache or I can provide

384
00:23:50,097 --> 00:23:54,098
finally you don't saying complete
request

385
00:23:54,098 --> 00:23:57,174
written by dickens completion handler

386
00:23:58,074 --> 00:24:01,076
to you exceptional i-ten we're I'm

387
00:24:01,094 --> 00:24:04,132
array up excision items

388
00:24:05,032 --> 00:24:08,070
this hot saree from cruise you extension

389
00:24:08,007 --> 00:24:11,082
life cycle so

390
00:24:12,045 --> 00:24:15,154
carry you wanna return you a bitter

391
00:24:15,559 --> 00:24:22,559
and conclude your any you what operation
at this point

392
00:24:23,058 --> 00:24:27,073
I like and opportunism yuup yuup I

393
00:24:27,073 --> 00:24:30,086
you don't have to return any beer

394
00:24:30,086 --> 00:24:33,098
back to the horse %uh petition

395
00:24:33,098 --> 00:24:36,135
saw the PureView opportunism

396
00:24:37,035 --> 00:24:40,574
just like share extensions

397
00:24:40,889 --> 00:24:44,010
you gotten ball complete regress

398
00:24:44,001 --> 00:24:47,780
returning items completion handler

399
00:24:47,789 --> 00:24:53,730
with new art

400
00:24:53,073 --> 00:24:57,096
so far I have Hubbard how to ride

401
00:24:57,096 --> 00:25:00,185
haha extensions now

402
00:25:01,049 --> 00:25:04,123
let me explain how you interact you can
read

403
00:25:04,789 --> 00:25:09,870
extensions into your all applications

404
00:25:09,087 --> 00:25:12,096
on I O S

405
00:25:12,879 --> 00:25:15,960
you ought to be the new controller

406
00:25:15,096 --> 00:25:18,148
drives both social and share

407
00:25:19,048 --> 00:25:23,117
and action extensions

408
00:25:23,549 --> 00:25:26,585
does she controlled by the view
controller

409
00:25:26,909 --> 00:25:30,973
term in bowl admonish extensions for you

410
00:25:31,549 --> 00:25:35,720
you what the PI wise there's not much
difference

411
00:25:35,072 --> 00:25:40,971
for you acted view controller from the
previous moves

412
00:25:41,619 --> 00:25:44,637
you still ustasha the new controller
with us like that

413
00:25:44,799 --> 00:25:49,855
items from the user and up

414
00:25:50,359 --> 00:25:53,520
you control it takes over and present

415
00:25:53,052 --> 00:25:57,126
she an while

416
00:25:58,026 --> 00:26:01,375
want the house met with how all for I
quest K

417
00:26:01,609 --> 00:26:05,080
it's a sport fall editor

418
00:26:05,008 --> 00:26:08,297
passions

419
00:26:08,369 --> 00:26:12,373
we had at the new property cold
completion with I can humbler

420
00:26:12,409 --> 00:26:15,431
to you agree control top

421
00:26:15,629 --> 00:26:19,634
you at give you control with this method

422
00:26:19,679 --> 00:26:22,692
they've gotten ball option his endanger

423
00:26:22,809 --> 00:26:25,841
and wants to return bottom who could

424
00:26:26,129 --> 00:26:29,178
risky the result and return items

425
00:26:29,619 --> 00:26:32,663
away 10

426
00:26:33,059 --> 00:26:39,530
you don't replace your docking comp
based on the weekend items

427
00:26:39,053 --> 00:26:42,110
in the pics view

428
00:26:43,001 --> 00:26:46,045
well ahead anybody

429
00:26:46,054 --> 00:26:51,153
know in the audience I just can't help
talk about taxes every year

430
00:26:51,639 --> 00:26:55,690
him what way or the other on west then

431
00:26:55,069 --> 00:26:59,126
in a stick to view planes the central

432
00:27:00,026 --> 00:27:05,051
and presenting extensions to the user's

433
00:27:05,051 --> 00:27:08,098
by hopper on popup extension

434
00:27:08,098 --> 00:27:12,787
course my homered extension on popup
pics

435
00:27:13,669 --> 00:27:16,740
selection or image attachments the
president's

436
00:27:17,379 --> 00:27:20,570
does this president Bob when menu

437
00:27:20,057 --> 00:27:27,057
listening all the extensions available
for the complex

438
00:27:28,001 --> 00:27:31,005
night I have with them a simple little

439
00:27:31,005 --> 00:27:34,012
extension force them and unlike the
shoal

440
00:27:35,002 --> 00:27:39,411
how yosemite present you extensions to
the user

441
00:27:39,609 --> 00:27:42,663
I her attended bottom complains

442
00:27:43,149 --> 00:27:46,223
ball path and beamish

443
00:27:46,889 --> 00:27:49,914
my homeroom most crucial

444
00:27:50,139 --> 00:27:54,340
on pot are tax

445
00:27:54,034 --> 00:27:57,873
selection you can reveal the list are

446
00:27:58,179 --> 00:28:02,273
extension supporting the pics beer

447
00:28:03,119 --> 00:28:06,194
similarly by homering on pop are

448
00:28:06,869 --> 00:28:09,874
attachments you can show all the list

449
00:28:10,369 --> 00:28:14,600
are extension support them images in
this day's

450
00:28:14,006 --> 00:28:19,015
admission to to sample extension I wrote
party pressure

451
00:28:19,069 --> 00:28:23,758
the miss mock-up affected application

452
00:28:24,379 --> 00:28:27,454
so you can see the mock up is from
extension

453
00:28:28,129 --> 00:28:32,350
duck walks not just in mail but any
other pics view

454
00:28:32,035 --> 00:28:36,804
inside the system so

455
00:28:37,119 --> 00:28:40,144
let me explain this little extension

456
00:28:40,369 --> 00:28:44,230
hold party crasher

457
00:28:44,023 --> 00:28:47,692
just what many on you I like em out with
people

458
00:28:47,899 --> 00:28:50,900
and in a by some pictures like this

459
00:28:50,909 --> 00:28:55,470
I feel will crandall left out

460
00:28:55,047 --> 00:28:59,256
soul with this extension

461
00:28:59,679 --> 00:29:03,770
I can had my picturing

462
00:29:03,077 --> 00:29:07,122
any manager pac-10

463
00:29:08,022 --> 00:29:11,120
a good for sure so let's keep andar

464
00:29:12,002 --> 00:29:16,057
change its save in the document

465
00:29:16,075 --> 00:29:19,103
also the

466
00:29:20,003 --> 00:29:26,078
is another way to BOC action extensions
on course to

467
00:29:26,078 --> 00:29:30,135
hai hum 15 this tax credit application
by the way to treat the competition

468
00:29:31,035 --> 00:29:34,064
he's a cool some property Sean Paul coca

469
00:29:34,379 --> 00:29:38,030
publication so you can modify any way
you want

470
00:29:38,003 --> 00:29:43,832
and my room to be stuff about Coco

471
00:29:43,859 --> 00:29:47,470
with this texted a British aversion
picture that

472
00:29:47,047 --> 00:29:50,083
a petition gun show

473
00:29:50,083 --> 00:29:56,100
two more and other little sleep in the
toolbar

474
00:29:57,000 --> 00:30:00,009
extension to ready still themselves

475
00:30:00,009 --> 00:30:03,103
house to my eye 10 and can be shown

476
00:30:04,003 --> 00:30:07,022
week any two more inside the system

477
00:30:07,022 --> 00:30:11,721
and the house from is applied to the
crime selected

478
00:30:11,919 --> 00:30:15,970
arms it can be tax what you make it so
on so forth

479
00:30:16,429 --> 00:30:19,590
so let's in both the party pressure

480
00:30:19,059 --> 00:30:22,152
full that selection

481
00:30:23,052 --> 00:30:26,119
it opinions a missus XO two-mile

482
00:30:27,019 --> 00:30:30,044
law to parten dude any pics election

483
00:30:30,044 --> 00:30:34,243
in the system

484
00:30:34,639 --> 00:30:37,714
Optionee are you can see

485
00:30:38,389 --> 00:30:42,720
excision is action-adventure is so
powerful

486
00:30:42,072 --> 00:30:46,641
you don't right simple extension are

487
00:30:47,289 --> 00:30:50,290
like yes or you can still

488
00:30:50,299 --> 00:30:53,960
up to are soft did art smock

489
00:30:53,096 --> 00:30:57,035
the sky is just lemme I have them said

490
00:30:57,899 --> 00:31:01,840
with them all have the most read
extensions fan support

491
00:31:01,084 --> 00:31:04,633
what could be a apps

492
00:31:05,389 --> 00:31:09,190
it is common that you wanna support as
in many been approached

493
00:31:09,019 --> 00:31:14,052
has you warm more than a text you
support

494
00:31:14,052 --> 00:31:18,096
its easier all users walk review
extensions

495
00:31:18,096 --> 00:31:21,107
let's take a look up how you can change
your behavior

496
00:31:22,007 --> 00:31:28,033
be based on that input data come from
the horse optician

497
00:31:28,033 --> 00:31:31,037
in the city's first we will not share

498
00:31:31,073 --> 00:31:36,402
if it's a tax bill type coming from the
host application

499
00:31:37,059 --> 00:31:41,240
we use that kaup pipe tax

500
00:31:41,024 --> 00:31:44,070
UTI type and it campaigns

501
00:31:44,007 --> 00:31:47,046
men pics uniform

502
00:31:48,009 --> 00:31:52,097
with hot item conform to cut identify a
method for lighting provider

503
00:31:52,097 --> 00:31:55,506
you can check 50 I can provide up
against the Turks

504
00:31:56,379 --> 00:31:59,760
here

505
00:31:59,076 --> 00:32:02,083
once you make sure you damn

506
00:32:02,083 --> 00:32:05,432
lolol the bigger is a lot I can for
part-time

507
00:32:06,179 --> 00:32:10,570
identify your options completion handler

508
00:32:10,057 --> 00:32:14,126
use in the real representation type of
your choice

509
00:32:14,639 --> 00:32:19,330
since I can provide their house simple
Iraq war zone for certain

510
00:32:19,033 --> 00:32:22,070
the time mad some did

511
00:32:22,007 --> 00:32:26,416
to the party object data part

512
00:32:27,109 --> 00:32:32,770
you specify in the States we use 'em in
if a QB the string

513
00:32:32,077 --> 00:32:35,084
want you probably have been

514
00:32:36,047 --> 00:32:41,053
set up user setup use and abuse
according to it

515
00:32:42,007 --> 00:32:45,069
scenery if you are that's the rupture

516
00:32:45,069 --> 00:32:50,132
fail you can check 40 million here

517
00:32:51,032 --> 00:32:55,521
after chatting if its image you don't
know all the emails

518
00:32:55,809 --> 00:33:00,892
and ass I mention I don't provide the
time course

519
00:33:01,639 --> 00:33:05,070
world in a pipe into you like image what
tenth

520
00:33:05,007 --> 00:33:10,026
image for you 10 if you happiness

521
00:33:10,026 --> 00:33:15,120
on the year using doctors for huge

522
00:33:16,002 --> 00:33:19,221
full all listed butts

523
00:33:19,419 --> 00:33:23,421
common the new extensions using a prince
doesn't cover

524
00:33:23,619 --> 00:33:26,638
Empire haha petitions window

525
00:33:26,809 --> 00:33:29,838
just like more crap good girl new one

526
00:33:30,099 --> 00:33:34,340
overall you is a you are using a piece
on pop up to

527
00:33:34,034 --> 00:33:39,034
we're sorry presentation haha some
petition

528
00:33:39,034 --> 00:33:42,097
is easy to accomplish

529
00:33:42,097 --> 00:33:45,666
we have a national problem for in this
item provider

530
00:33:46,539 --> 00:33:49,590
on Western

531
00:33:49,059 --> 00:33:54,518
it's called source frame companions the
screen called me

532
00:33:55,049 --> 00:34:00,056
for the original representation inside
the host a petition

533
00:34:00,119 --> 00:34:04,000
if you did top rack

534
00:34:04,000 --> 00:34:07,083
information and if it's not empty

535
00:34:07,083 --> 00:34:11,119
hookah I just the frame according to
user interface needs

536
00:34:12,019 --> 00:34:16,108
you might wanna have some additional
frame around or is that representations

537
00:34:16,279 --> 00:34:17,580
of bite marks

538
00:34:17,058 --> 00:34:22,067
are or party pressured us

539
00:34:22,589 --> 00:34:26,990
don't set up to them in this new control
problems

540
00:34:26,099 --> 00:34:29,248
prefers from orange and for fruit

541
00:34:30,139 --> 00:34:35,000
contents of I loosely with my

542
00:34:35,000 --> 00:34:38,044
presentation listen prefer Compton size

543
00:34:38,044 --> 00:34:41,513
is sheer between stop

544
00:34:41,909 --> 00:34:46,500
to build new Weezer an action extension

545
00:34:46,005 --> 00:34:49,063
by thirty abuse problems got

546
00:34:50,008 --> 00:34:53,072
new control system pics or more and
computer

547
00:34:53,072 --> 00:34:56,137
your extends from using an apparent
former lead on top

548
00:34:57,037 --> 00:35:00,112
are the

549
00:35:01,012 --> 00:35:07,097
or is a ribbon or is only been in place
on in the horse competition

550
00:35:07,097 --> 00:35:10,886
now and what to bring my colleague

551
00:35:11,759 --> 00:35:14,842
the MB who's gonna be discussed some

552
00:35:15,589 --> 00:35:18,920
really really kuwaiti to integrated

553
00:35:18,092 --> 00:35:22,119
interrupted way I'm actions

554
00:35:23,019 --> 00:35:28,028
here

555
00:35:28,028 --> 00:35:31,061
thank you are

556
00:35:31,061 --> 00:35:34,158
so I can show you how to create a custom
action evening show no estan

557
00:35:35,058 --> 00:35:38,105
in today I'm going to show you how to
build a safari custom action

558
00:35:39,005 --> 00:35:42,037
or how to take your custom action and
enhance it for the web

559
00:35:42,037 --> 00:35:47,081
we think you guys are really gonna love
this feature so first you can see our

560
00:35:47,081 --> 00:35:48,088
custom action in the bottom row

561
00:35:49,051 --> 00:35:52,096
the activity view controller as I showed
you yesterday in the part one of this

562
00:35:52,096 --> 00:35:52,159
talk

563
00:35:53,059 --> 00:35:56,087
and it's called tiny scratch

564
00:35:56,087 --> 00:35:59,169
it can't do everything as Big Brother
market can do but I can still pack a

565
00:36:00,069 --> 00:36:00,128
punch

566
00:36:01,028 --> 00:36:04,030
so first diving and

567
00:36:04,003 --> 00:36:08,009
Safari custom actions its rich new
functionality in Safari on iowa's

568
00:36:08,009 --> 00:36:11,043
it gives you access to the DOM

569
00:36:12,024 --> 00:36:15,063
and there are two types its custom
actions

570
00:36:15,063 --> 00:36:19,072
a view controller based custom action
the kind I'm going to show you today

571
00:36:20,053 --> 00:36:23,152
and there is a no view action like the
Bing translate action

572
00:36:24,052 --> 00:36:29,106
that Craig showed you in the keynote how
do these work

573
00:36:30,006 --> 00:36:33,044
we use in javascript yours tension will
provide

574
00:36:33,044 --> 00:36:36,078
JavaScript along in its resources

575
00:36:36,078 --> 00:36:40,151
and safari is going to find this cell

576
00:36:41,051 --> 00:36:45,064
here's what is JavaScript is going to
look like we're going to expect you to

577
00:36:45,064 --> 00:36:45,071
provide

578
00:36:46,034 --> 00:36:50,059
a preprocessing JavaScript object and
this object is going to have

579
00:36:50,059 --> 00:36:53,065
two methods a run method and finalize
method

580
00:36:53,065 --> 00:36:57,136
we're going to start by calling the run
method and give you access to the DOM

581
00:36:58,036 --> 00:37:01,114
and what you're going to be expected to
do in this run method is to you

582
00:37:02,014 --> 00:37:05,020
with to call the action arguments
completion function

583
00:37:05,074 --> 00:37:08,120
passing the data you want to provide to
the custom action

584
00:37:09,002 --> 00:37:12,064
when you're done and

585
00:37:12,082 --> 00:37:15,177
when the action has completed when the
computation inside your

586
00:37:16,077 --> 00:37:21,143
our custom action extension has finished
were again going to call your javascript

587
00:37:22,043 --> 00:37:25,057
and this time we're going to cut invoke
the finalize method

588
00:37:25,057 --> 00:37:28,103
and pass the action arguments the as you
can see in this case

589
00:37:29,003 --> 00:37:32,022
word is calling alert and showing a
message which was provided

590
00:37:32,022 --> 00:37:36,028
were the most important things for you
to remember

591
00:37:36,082 --> 00:37:40,145
is this global variable extension
preprocessing JavaScript this is going

592
00:37:41,045 --> 00:37:43,144
to be in instance if you're object that
provides these methods

593
00:37:44,044 --> 00:37:48,072
to Safari and I think that should be
burned into your mind

594
00:37:48,072 --> 00:37:51,103
because if you don't provide this we're
not going to be able to

595
00:37:52,003 --> 00:37:55,099
invoke your javascript and nothing's
going to show up inside your action

596
00:37:55,099 --> 00:37:58,196
so it civil

597
00:37:59,096 --> 00:38:02,143
really easy to talk about these things
but it's far better to show it

598
00:38:03,043 --> 00:38:09,081
so I'm going to show you a demo of tiny
scratch moving right and

599
00:38:09,081 --> 00:38:14,103
let's build and run and see we've got so
what I've done here's I built a very

600
00:38:15,003 --> 00:38:15,069
small

601
00:38:15,069 --> 00:38:18,155
test application called tiny scratch
which contains my tiny sketch

602
00:38:19,055 --> 00:38:23,061
custom action this is a good way to get
started

603
00:38:23,061 --> 00:38:27,065
even might know why died immediately in
creating an extension for Safari

604
00:38:27,065 --> 00:38:30,151
because there are a lot of moving parts
and it's a lot better to build it up in

605
00:38:31,051 --> 00:38:32,069
pieces when you can

606
00:38:32,069 --> 00:38:36,078
as you can see we don't have anything
here yet we don't actually have any data

607
00:38:37,059 --> 00:38:41,060
and I action but is not wired up let's
go ahead and do that

608
00:38:41,006 --> 00:38:45,021
going back to Xcode on

609
00:38:45,075 --> 00:38:49,128
tiny sketch support is our new support
framework is Damien was talking about

610
00:38:50,028 --> 00:38:50,127
embedded frameworks

611
00:38:51,027 --> 00:38:55,094
earlier we're going to going toward a
model and because our application and

612
00:38:55,094 --> 00:38:57,179
our extension may want to use the same
data model

613
00:38:58,079 --> 00:39:01,123
reaction when provide the accessor to
the resources here

614
00:39:02,023 --> 00:39:05,090
like this this is going to iterate
through the image earl's

615
00:39:05,009 --> 00:39:09,045
in my on in my custom extensions
documents folder

616
00:39:10,026 --> 00:39:13,048
well and support for their

617
00:39:13,048 --> 00:39:18,059
and it will go back to the apt actually
wire up support for

618
00:39:18,059 --> 00:39:22,066
imputed load get pictures and keep kids

619
00:39:22,066 --> 00:39:26,138
except the indentation

620
00:39:27,038 --> 00:39:31,105
and will build and run again and this
time

621
00:39:32,005 --> 00:39:36,007
you'll see some pictures on my children
usually enjoying a day at the park or

622
00:39:36,025 --> 00:39:40,070
its cool or or doing something else it
reset on this

623
00:39:40,007 --> 00:39:44,082
Africa 374 we can tap on any these
images

624
00:39:45,045 --> 00:39:48,048
and in they go you can see right there

625
00:39:48,075 --> 00:39:51,079
tap on any of them it's really cool

626
00:39:52,015 --> 00:39:55,093
art kept the custom action button
nothing comes up

627
00:39:55,093 --> 00:39:58,129
well that's because we have a wide it up
yet is our key was telling you earlier

628
00:39:59,029 --> 00:40:02,088
we need to set up to you I activity view
controller to provide data

629
00:40:02,088 --> 00:40:09,088
to the extension so let's go do that

630
00:40:16,036 --> 00:40:19,104
going going to our share method and
we're going to add some more comps

631
00:40:20,004 --> 00:40:23,004
saying up to you I actively view
controller

632
00:40:23,004 --> 00:40:26,099
as you can see it's are key talked about
earlier we're creating an activity item

633
00:40:26,099 --> 00:40:29,103
using are selected image URL

634
00:40:30,003 --> 00:40:33,094
and now we're going to add some code

635
00:40:33,094 --> 00:40:36,183
we were just configuring the activity
item as we go as architect about earlier

636
00:40:37,083 --> 00:40:42,087
notes we're adding a little bit more
code

637
00:40:43,023 --> 00:40:46,060
to actually deal with receiving the data
items right here

638
00:40:46,006 --> 00:40:48,079
we're going to take a look and make sure
that we were successful we're going to

639
00:40:49,033 --> 00:40:50,061
count the number of items

640
00:40:50,061 --> 00:40:53,098
and we're going to grab the item
provider which is provided to us

641
00:40:53,098 --> 00:40:56,129
by the custom action and then we're
going to take the image

642
00:40:57,029 --> 00:41:00,050
and save it back into our image
collection

643
00:41:00,005 --> 00:41:03,083
and then we're going to read display
that image inside the collection you

644
00:41:04,028 --> 00:41:07,083
now finally now that we have the
activity view controller completely

645
00:41:07,083 --> 00:41:12,147
configured we're going to presented so

646
00:41:13,047 --> 00:41:18,140
let's build and run this time we ought
to be able to tap on the

647
00:41:19,004 --> 00:41:24,077
picture the key kids at least I think
you're cute tap on the action

648
00:41:25,013 --> 00:41:28,052
I am and now we can see our custom
action

649
00:41:28,052 --> 00:41:31,083
right here if we tap it becomes

650
00:41:31,083 --> 00:41:34,111
it doesn't do much yet because while
we're providing the data to it

651
00:41:35,011 --> 00:41:38,063
we haven't actually added any code to
consume that data

652
00:41:38,063 --> 00:41:45,063
inside the action let's go do that now

653
00:41:48,016 --> 00:41:51,905
going into our tiny sketch action which
is our target containing the

654
00:41:52,049 --> 00:41:56,270
custom action and we're going to go down
to view did work which is where we

655
00:41:56,027 --> 00:41:57,099
should consume the extension item

656
00:41:57,099 --> 00:42:00,190
to add something to pull the extent the

657
00:42:01,009 --> 00:42:04,728
input item from the extension context
and we're going to grab the first image

658
00:42:05,619 --> 00:42:06,619
item provider

659
00:42:06,619 --> 00:42:10,440
and we're going to make sure that it has
an item conform to our type identifiers

660
00:42:10,044 --> 00:42:14,213
have a type image and iraq's going to
let that image

661
00:42:14,609 --> 00:42:17,677
and with the magic have NS item provider

662
00:42:18,289 --> 00:42:21,520
we're going to it's going to be coerced
from a URL

663
00:42:21,052 --> 00:42:25,117
into an item automatically for you we
actually take a look at the signature

664
00:42:26,017 --> 00:42:29,074
these block parameters and perform all
the coercion is behind the scenes for

665
00:42:29,074 --> 00:42:29,373
you

666
00:42:30,039 --> 00:42:37,039
I thought that was cool never going to
take the item

667
00:42:39,003 --> 00:42:42,047
we're going to assign it to our image
property so we can hold on to it and

668
00:42:42,047 --> 00:42:43,196
we're also going to show it

669
00:42:43,619 --> 00:42:48,240
in our image you once we're done with it

670
00:42:48,024 --> 00:42:52,823
scrolling past we're going to need to be
able to take this data

671
00:42:53,039 --> 00:42:56,094
and send it back to the host testing
application so what's

672
00:42:56,589 --> 00:42:59,750
set that up we're going to create an
extension item

673
00:42:59,075 --> 00:43:02,148
going to check that we're not heading
for the web that will come later

674
00:43:03,048 --> 00:43:06,073
ever going to attach the newly created
I'd

675
00:43:06,073 --> 00:43:10,074
image that flattened image image
containing all the adornments

676
00:43:10,074 --> 00:43:14,079
in to the extension item using and as
item provider this time we're just we're

677
00:43:15,024 --> 00:43:17,045
not going to spy URL but we're going to
supplying

678
00:43:17,045 --> 00:43:20,404
image and then as hockey talked about
earlier

679
00:43:20,809 --> 00:43:24,630
we're going to finish the request by
calling complete request returning item

680
00:43:24,063 --> 00:43:28,100
and passing the extension item as
building run

681
00:43:29,000 --> 00:43:34,052
and what's

682
00:43:34,052 --> 00:43:36,125
at it

683
00:43:37,025 --> 00:43:39,041
pulling up annotating the image

684
00:43:39,041 --> 00:43:43,047
and you can see we actually have data
flying across the wire

685
00:43:43,047 --> 00:43:46,053
we can dismiss

686
00:43:47,007 --> 00:43:50,016
and the data goes back I wasn't all that
interesting because I didn't actually

687
00:43:50,016 --> 00:43:51,025
making and it's all making at this time

688
00:43:52,006 --> 00:43:55,028
put a inappropriate

689
00:43:55,028 --> 00:44:00,034
labeling here in the speech bubble
having fun at the park

690
00:44:00,088 --> 00:44:07,088
it done and you'll notice now are image
has been replaced

691
00:44:09,009 --> 00:44:13,020
the data has made it back from our
custom extension clark asked application

692
00:44:13,002 --> 00:44:16,031
and we have ground trapped a custom
action

693
00:44:16,049 --> 00:44:20,067
on iowa's now while this is cool I'm
really here to show you

694
00:44:20,067 --> 00:44:23,145
about how this works can work with
Safari and the web

695
00:44:24,045 --> 00:44:28,052
so let's go ahead and enhances custom
action to actually pull its data

696
00:44:28,052 --> 00:44:32,063
out about live Dom and then replace the
data in that dominates done

697
00:44:32,063 --> 00:44:37,068
let's do that now went back

698
00:44:37,068 --> 00:44:41,153
stop and now

699
00:44:42,053 --> 00:44:46,057
on you may have seen some on my notes
earlier about adding web support

700
00:44:46,057 --> 00:44:49,075
we're going to scroll back up

701
00:44:49,075 --> 00:44:52,107
and this time we're going to add

702
00:44:53,007 --> 00:44:58,099
in else condition to receive the URL
from Safari

703
00:44:58,099 --> 00:45:02,124
notice we're going to have an else and
if we have an item conforming to type

704
00:45:03,024 --> 00:45:03,097
identifiers

705
00:45:03,097 --> 00:45:06,154
Kuti property list this is important
because we're going to be sending a

706
00:45:07,054 --> 00:45:07,125
dictionary

707
00:45:08,025 --> 00:45:11,053
we're going to unpacked image URL

708
00:45:11,053 --> 00:45:15,101
out at this dictionary also said I will
say editing for web black TS

709
00:45:16,001 --> 00:45:19,028
and then we're setting up at NS URL

710
00:45:19,028 --> 00:45:22,083
session download task to actually
perform the down

711
00:45:22,083 --> 00:45:25,125
if the download succeeds we unpacked the
image data

712
00:45:26,025 --> 00:45:29,104
and render it into you I image again
stashing image away

713
00:45:30,004 --> 00:45:34,006
your property and assigning to the
ImageView if you're unable to download

714
00:45:34,006 --> 00:45:38,014
walk in and ask blog not the other side
that

715
00:45:38,014 --> 00:45:43,068
and done when we're done

716
00:45:43,068 --> 00:45:46,141
editing the image we need to pack it
back into a property west

717
00:45:47,041 --> 00:45:50,127
and I've got some code to do that here
you'll see that we're going to you

718
00:45:51,027 --> 00:45:54,033
take that flattened image and write out
a temporary file

719
00:45:54,087 --> 00:45:58,182
here and then we're going to actually
create a che peg string up that

720
00:45:59,082 --> 00:46:02,163
and packed that into a web dictionary
basically creating a data URL

721
00:46:03,063 --> 00:46:08,069
that Safari can then swap back into the
DOM so

722
00:46:08,069 --> 00:46:11,117
everything's wired up there what's going
to our JavaScript

723
00:46:12,017 --> 00:46:15,031
as I talked about earlier we are
expected to provide the run

724
00:46:15,031 --> 00:46:21,031
and finalize functions let's do that now
run

725
00:46:21,031 --> 00:46:24,095
we're going to on iterate over all the
images in the DOM

726
00:46:24,095 --> 00:46:27,110
and we're going to send them over in the
image url: ski

727
00:46:28,001 --> 00:46:32,084
to the custom action and we're also
going to send the base your eye

728
00:46:32,093 --> 00:46:35,099
our custom action is only going to
consume the first image but you know

729
00:46:35,099 --> 00:46:36,102
this is written for growth

730
00:46:37,029 --> 00:46:40,038
and finally

731
00:46:40,038 --> 00:46:44,049
with the data comes back from the custom
action we're going to replace the image

732
00:46:44,049 --> 00:46:48,125
by taking that encoded data URL and
shoving it into the image using your

733
00:46:49,025 --> 00:46:51,036
replacing the image source: property

734
00:46:51,036 --> 00:46:54,111
save

735
00:46:55,011 --> 00:47:01,092
building run outcomes our application we
know this works

736
00:47:01,092 --> 00:47:04,099
at home out and let's go to Safari

737
00:47:04,099 --> 00:47:08,117
I happen to have a web server running
local host

738
00:47:09,017 --> 00:47:12,023
with the picture again in my kids just
hanging out at the park

739
00:47:12,023 --> 00:47:19,023
let's see if we can edit this image
hitting annotate image

740
00:47:19,028 --> 00:47:22,037
up slides a custom action

741
00:47:22,037 --> 00:47:26,040
with the data from Safari now it's added

742
00:47:26,004 --> 00:47:33,004
provide an appropriate speech bubble

743
00:47:37,043 --> 00:47:40,047
get done and now you can see

744
00:47:40,047 --> 00:47:43,047
there's a live replacement the data
right there

745
00:47:43,047 --> 00:47:50,047
in Safari using the JavaScript that I
showed you

746
00:47:54,043 --> 00:47:56,044
cell Safari custom actions

747
00:47:56,053 --> 00:48:01,094
as you just saw provide the flexibility
the web married to the power extensions

748
00:48:01,094 --> 00:48:04,161
you can transform Web data it's really
really easily

749
00:48:05,061 --> 00:48:08,099
and you can float a native interface

750
00:48:08,099 --> 00:48:12,132
right over the top with it which allows
you to create he's rich workflows that

751
00:48:13,032 --> 00:48:13,064
were

752
00:48:13,064 --> 00:48:17,110
unimaginable in previous releases says
Damien talked about

753
00:48:18,001 --> 00:48:21,035
extensions are secured by default

754
00:48:21,044 --> 00:48:24,103
they don't share data unless you tell
them to: and their

755
00:48:25,003 --> 00:48:28,031
want to have a one to one correspondence
with the hosting ap

756
00:48:28,031 --> 00:48:31,047
that way you have your own address space
in which to

757
00:48:31,047 --> 00:48:36,052
make your man make your mistakes in your
reaction and the last thing we really

758
00:48:36,097 --> 00:48:39,102
want to encourage you to do is just to
have fun with this feature

759
00:48:40,002 --> 00:48:44,007
and that don't think about is sticking
new things on to things like particles

760
00:48:44,007 --> 00:48:45,095
think a bit is constructing these

761
00:48:45,095 --> 00:48:49,161
awesome new workflows that were you're
really unable to explore

762
00:48:50,061 --> 00:48:54,099
before now for more information

763
00:48:54,099 --> 00:48:58,106
you can talk to the man in plaid Jake
parents or

764
00:48:59,006 --> 00:49:02,082
I'd urge you to read our excellent
documentation the app extension program

765
00:49:02,082 --> 00:49:02,087
and I

766
00:49:03,032 --> 00:49:07,119
at a developer dot Apple dot com if
you've never been to the Apple developer

767
00:49:08,019 --> 00:49:08,085
forums

768
00:49:08,085 --> 00:49:11,167
you can interact with employees like
myself hockey and Damien there

769
00:49:12,067 --> 00:49:15,112
and provide peer to peer support thank
you for coming

770
00:49:16,012 --> 00:49:22,014
burned out at camp and we can't wait to
see what you guys do with the feature

771
00:49:22,014 --> 00:49:22,068
thank you

